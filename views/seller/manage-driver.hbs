<section>
    <div>
        <h2 class="text-center m-3"> Manage driver</h2>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="pb-5 my-auto text-center mt-2">
                    <a class="btn btn-success" href="/seller/driver" style="color: white;">Create Driver</a>
                    <a class="ml-5 btn btn-danger" href="/seller/manage-driver" style="color: white;">Manage Driver </a>
                </div>
                {{#if driverupdateresponsemessage}}
                <div class="alert alert-succes"
                    style="color:{{driverupdateresponsemessage.color}};background-color:{{driverupdateresponsemessage.backgroundcolor}}">
                    <strong>{{driverupdateresponsemessage.type}}</strong> {{driverupdateresponsemessage.message}}
                </div>
                {{/if}}
                {{#if driverdeleteresponsemessage}}
                <div class="alert alert-succes"
                    style="color:{{driverdeleteresponsemessage.color}};background-color:{{driverdeleteresponsemessage.backgroundcolor}}">
                    <strong>{{driverdeleteresponsemessage.type}}</strong> {{driverdeleteresponsemessage.message}}
                </div>
                {{/if}}
                <table class="table" style=" background-color: #fff; box-shadow: 3px 1px 7px 1px #888888;">
                    <thead style="background-color: #4e73df; color: white;">
                        <tr>
                            <th scope="col">Id</th>
                            <th scope="col">Driver Photo</th>
                            <th scope="col">Driver name</th>
                            <th scope="col">Driver Email</th>
                            <th scope="col">Driver Phone</th>
                            <th scope="col">Driver License</th>
                            <th scope="col">Driver Address</th>
                            <th scope="col">Action</th>
                        </tr>
                    </thead>
                    {{#each drivers}}
                    <tbody>
                        <tr>
                            <th scope="row">{{this._id}}</th>
                            <td class="text-uppercase "></td>
                            <td class="text-uppercase ">{{this.drivername}}</td>
                            <td class="text-uppercase ">{{this.driveremail}}</td>
                            <td class="text-uppercase ">{{this.driverphone}}</td>
                            <td class="text-uppercase ">{{this.driverlicense}}</td>
                            <td class="text-uppercase ">{{this.driveraddress}}</td>

                            <td style="width: 144px; color: white;"> <a href="/seller/edit-driver/{{this._id}}"
                                    style="font-size: 14px;" class="btn btn-info">Edit</a>
                                <a class="btn btn-danger" onclick="if(confirm('Are you want to delete {{this.drivername}} ?')) deleteDriver('{{this._id}}')"
                                    style="font-size: 14px;">Delete</a>
                            </td>
                        </tr>
                        {{/each}}
                    </tbody>
                </table>


            </div>
        </div>
    </div>
</section>

<style>
    tr:hover {
        box-shadow: 1px 0px 22px -1px #888888;

    }
</style>

<script>
    function deleteDriver(driverId) {
        $.ajax({
            url: '/seller/deletDriver/' +driverId,
            method: 'get',
            success: (response) => {
                if(response.status){
                    alert('Driver deleted successfully')
                    location.reload()
                }
            }
        })
    }
</script>
